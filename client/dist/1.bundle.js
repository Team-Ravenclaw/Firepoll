(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[1],{

/***/ "./client/src/managementClient/live.jsx":
/*!**********************************************!*\
  !*** ./client/src/managementClient/live.jsx ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(/*! react */ \"./node_modules/react/react.js\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRouterDom = __webpack_require__(/*! react-router-dom */ \"./node_modules/react-router-dom/es/index.js\");\n\nvar _firepollManagementClient = __webpack_require__(/*! ../firepollManagementClient */ \"./client/src/firepollManagementClient.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Live = function (_React$Component) {\n  _inherits(Live, _React$Component);\n\n  function Live(props) {\n    _classCallCheck(this, Live);\n\n    var _this = _possibleConstructorReturn(this, (Live.__proto__ || Object.getPrototypeOf(Live)).call(this, props));\n\n    _this.state = {\n      pollId: _this.props.location.pathname.slice(6),\n      poll: null,\n      questions: null\n    };\n    _this.fetchPoll = _this.fetchPoll.bind(_this);\n    _this.computeTimeRemaining = _this.computeTimeRemaining.bind(_this);\n    return _this;\n  }\n\n  _createClass(Live, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.fetchPoll();\n    }\n  }, {\n    key: 'fetchPoll',\n    value: function fetchPoll() {\n      var _this2 = this;\n\n      var pollId = this.state.pollId;\n      console.log('fetching live poll info from firebase for', this.state.pollId);\n      _firepollManagementClient.firepoll.get.poll(pollId).then(function (data) {\n        _this2.setState({\n          poll: data\n        }, function () {\n          _firepollManagementClient.firepoll.listen.poll(_this2.state.poll, function (data) {\n            _this2.setState({\n              poll: data\n            }, function () {\n              _firepollManagementClient.firepoll.get.allQuestionsFromPoll(pollId).then(function (data) {\n                _this2.setState({\n                  questions: data\n                });\n              }).catch(function (err) {\n                console.log(err);\n              });\n            });\n          });\n        });\n      });\n    }\n  }, {\n    key: 'computeTimeRemaining',\n    value: function computeTimeRemaining() {\n      // a method for figuring out how much time is remaining for a question if it's live\n      var seconds = Math.floor(Math.random() * 20);\n      seconds = seconds < 10 ? '0' + seconds : seconds;\n      return '0:' + seconds;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var _props = this.props,\n          user = _props.user,\n          email = _props.email;\n\n      console.log('loading live poll', this.state.pollId, 'for', email);\n      console.log('current poll in live view:', this.state.poll);\n      console.log('current questions in live view:', this.state.questions);\n      if (!user) return _react2.default.createElement(\n        _reactRouterDom.Link,\n        { to: '/login' },\n        _react2.default.createElement(\n          'button',\n          null,\n          'Log In!'\n        )\n      );\n      if (!this.state.poll || !this.state.questions) return _react2.default.createElement(\n        'div',\n        null,\n        'LOADING FIRE POLL!'\n      );\n      // return <div>HI</div>\n      return _react2.default.createElement(\n        'div',\n        null,\n        _react2.default.createElement(\n          'h1',\n          null,\n          '\\uD83D\\uDD25\\uD83D\\uDD25\\uD83D\\uDD25 FIRE POLL #',\n          this.state.pollId,\n          ' FOR ',\n          email,\n          ' \\uD83D\\uDD25\\uD83D\\uDD25\\uD83D\\uDD25'\n        ),\n        _react2.default.createElement(\n          'div',\n          null,\n          this.state.questions.map(function (q) {\n            return _react2.default.createElement(\n              'div',\n              { key: q.id },\n              _react2.default.createElement(\n                'h1',\n                { className: 'question-question' },\n                q.question_title\n              ),\n              _react2.default.createElement(\n                'h3',\n                { className: 'question-time' },\n                _this3.computeTimeRemaining(),\n                ' Remains!'\n              ),\n              _react2.default.createElement(\n                'button',\n                null,\n                'START VOTING!'\n              ),\n              _react2.default.createElement(\n                'button',\n                null,\n                'STOP VOTING!'\n              ),\n              _react2.default.createElement(\n                'div',\n                { className: 'question-answers' },\n                q.answers.map(function (ans) {\n                  return _react2.default.createElement(\n                    'p',\n                    { key: ans.id },\n                    ans.value,\n                    ': ',\n                    ans.position\n                  );\n                })\n              )\n            );\n          })\n        )\n      );\n    }\n  }]);\n\n  return Live;\n}(_react2.default.Component);\n\nexports.default = Live;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jbGllbnQvc3JjL21hbmFnZW1lbnRDbGllbnQvbGl2ZS5qc3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vY2xpZW50L3NyYy9tYW5hZ2VtZW50Q2xpZW50L2xpdmUuanN4PzNhZjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgUmVkaXJlY3QsIExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcclxuaW1wb3J0IHtmaXJlcG9sbH0gZnJvbSAnLi4vZmlyZXBvbGxNYW5hZ2VtZW50Q2xpZW50JztcclxuXHJcbmNsYXNzIExpdmUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBwb2xsSWQ6IHRoaXMucHJvcHMubG9jYXRpb24ucGF0aG5hbWUuc2xpY2UoNiksXHJcbiAgICAgIHBvbGw6IG51bGwsXHJcbiAgICAgIHF1ZXN0aW9uczogbnVsbFxyXG4gICAgfVxyXG4gICAgdGhpcy5mZXRjaFBvbGwgPSB0aGlzLmZldGNoUG9sbC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5jb21wdXRlVGltZVJlbWFpbmluZyA9IHRoaXMuY29tcHV0ZVRpbWVSZW1haW5pbmcuYmluZCh0aGlzKTtcclxuICB9XHJcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICB0aGlzLmZldGNoUG9sbCgpO1xyXG4gIH1cclxuICBmZXRjaFBvbGwoKSB7XHJcbiAgICBsZXQgcG9sbElkID0gdGhpcy5zdGF0ZS5wb2xsSWQ7XHJcbiAgICBjb25zb2xlLmxvZygnZmV0Y2hpbmcgbGl2ZSBwb2xsIGluZm8gZnJvbSBmaXJlYmFzZSBmb3InLCB0aGlzLnN0YXRlLnBvbGxJZCk7XHJcbiAgICBmaXJlcG9sbC5nZXQucG9sbChwb2xsSWQpLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgcG9sbDogZGF0YVxyXG4gICAgICB9LCAoKSA9PiB7XHJcbiAgICAgICAgZmlyZXBvbGwubGlzdGVuLnBvbGwodGhpcy5zdGF0ZS5wb2xsLCAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHBvbGw6IGRhdGFcclxuICAgICAgICAgIH0sICgpID0+IHtcclxuICAgICAgICAgICAgZmlyZXBvbGwuZ2V0LmFsbFF1ZXN0aW9uc0Zyb21Qb2xsKHBvbGxJZCkudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgcXVlc3Rpb25zOiBkYXRhXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtjb25zb2xlLmxvZyhlcnIpfSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9KVxyXG4gIH1cclxuICBjb21wdXRlVGltZVJlbWFpbmluZygpIHtcclxuICAgIC8vIGEgbWV0aG9kIGZvciBmaWd1cmluZyBvdXQgaG93IG11Y2ggdGltZSBpcyByZW1haW5pbmcgZm9yIGEgcXVlc3Rpb24gaWYgaXQncyBsaXZlXHJcbiAgICBsZXQgc2Vjb25kcyA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIwKTtcclxuICAgIHNlY29uZHMgPSBzZWNvbmRzIDwgMTAgPyAnMCcgKyBzZWNvbmRzIDogc2Vjb25kcztcclxuICAgIHJldHVybiBgMDoke3NlY29uZHN9YFxyXG4gIH1cclxuICBcclxuICByZW5kZXIoKSB7XHJcbiAgICBsZXQge3VzZXIsIGVtYWlsfSA9IHRoaXMucHJvcHM7XHJcbiAgICBjb25zb2xlLmxvZygnbG9hZGluZyBsaXZlIHBvbGwnLCB0aGlzLnN0YXRlLnBvbGxJZCwgJ2ZvcicsIGVtYWlsKTtcclxuICAgIGNvbnNvbGUubG9nKCdjdXJyZW50IHBvbGwgaW4gbGl2ZSB2aWV3OicsIHRoaXMuc3RhdGUucG9sbCk7XHJcbiAgICBjb25zb2xlLmxvZygnY3VycmVudCBxdWVzdGlvbnMgaW4gbGl2ZSB2aWV3OicsIHRoaXMuc3RhdGUucXVlc3Rpb25zKTtcclxuICAgIGlmICghdXNlcikgcmV0dXJuIDxMaW5rIHRvPVwiL2xvZ2luXCI+PGJ1dHRvbj5Mb2cgSW4hPC9idXR0b24+PC9MaW5rPjtcclxuICAgIGlmICghdGhpcy5zdGF0ZS5wb2xsIHx8ICF0aGlzLnN0YXRlLnF1ZXN0aW9ucykgcmV0dXJuIDxkaXY+TE9BRElORyBGSVJFIFBPTEwhPC9kaXY+O1xyXG4gICAgLy8gcmV0dXJuIDxkaXY+SEk8L2Rpdj5cclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgPGgxPvCflKXwn5Sl8J+UpSBGSVJFIFBPTEwgI3t0aGlzLnN0YXRlLnBvbGxJZH0gRk9SIHtlbWFpbH0g8J+UpfCflKXwn5SlPC9oMT5cclxuICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIHt0aGlzLnN0YXRlLnF1ZXN0aW9ucy5tYXAocSA9PiAoXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGtleT17cS5pZH0+XHJcbiAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJxdWVzdGlvbi1xdWVzdGlvblwiPntxLnF1ZXN0aW9uX3RpdGxlfTwvaDE+XHJcbiAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJxdWVzdGlvbi10aW1lXCI+e3RoaXMuY29tcHV0ZVRpbWVSZW1haW5pbmcoKX0gUmVtYWlucyE8L2gzPlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uPlNUQVJUIFZPVElORyE8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbj5TVE9QIFZPVElORyE8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJxdWVzdGlvbi1hbnN3ZXJzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAge3EuYW5zd2Vycy5tYXAoYW5zID0+IChcclxuICAgICAgICAgICAgICAgICAgICAgIDxwIGtleT17YW5zLmlkfT57YW5zLnZhbHVlfToge2Fucy5wb3NpdGlvbn08L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTGl2ZTsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7Ozs7Ozs7OztBQUNBOzs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFSQTtBQVNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFEQTtBQURBO0FBTEE7QUFEQTtBQURBO0FBRkE7QUFxQkE7Ozs7QUF4RUE7QUFDQTtBQTBFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./client/src/managementClient/live.jsx\n");

/***/ })

}]);