(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[1],{

/***/ "./client/src/managementClient/live.jsx":
/*!**********************************************!*\
  !*** ./client/src/managementClient/live.jsx ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(/*! react */ \"./node_modules/react/react.js\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRouterDom = __webpack_require__(/*! react-router-dom */ \"./node_modules/react-router-dom/es/index.js\");\n\nvar _firepollManagementClient = __webpack_require__(/*! ../firepollManagementClient */ \"./client/src/firepollManagementClient.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Live = function (_React$Component) {\n  _inherits(Live, _React$Component);\n\n  function Live(props) {\n    _classCallCheck(this, Live);\n\n    var _this = _possibleConstructorReturn(this, (Live.__proto__ || Object.getPrototypeOf(Live)).call(this, props));\n\n    _this.state = {\n      pollId: _this.props.location.pathname.slice(6),\n      poll: null,\n      questions: null\n    };\n    _this.fetchPoll = _this.fetchPoll.bind(_this);\n    _this.computeTimeRemaining = _this.computeTimeRemaining.bind(_this);\n    return _this;\n  }\n\n  _createClass(Live, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.fetchPoll();\n    }\n  }, {\n    key: 'fetchPoll',\n    value: function fetchPoll() {\n      var _this2 = this;\n\n      var pollId = this.state.pollId;\n      console.log('fetching live poll info from firebase for', this.state.pollId);\n      _firepollManagementClient.firepoll.get.poll(pollId).then(function (data) {\n        _this2.setState({\n          poll: data\n        }, function () {\n          _firepollManagementClient.firepoll.listen.poll(_this2.state.poll, function (data) {\n            _this2.setState({\n              poll: data\n            }, function () {\n              _firepollManagementClient.firepoll.get.allQuestionsFromPoll(pollId).then(function (data) {\n                _this2.setState({\n                  questions: data\n                });\n              }).catch(function (err) {\n                console.log(err);\n              });\n            });\n          });\n        });\n      });\n    }\n  }, {\n    key: 'computeTimeRemaining',\n    value: function computeTimeRemaining() {\n      // a method for figuring out how much time is remaining for a question if it's live\n      var seconds = Math.floor(Math.random() * 20);\n      seconds = seconds < 10 ? '0' + seconds : seconds;\n      return '0:' + seconds;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var _props = this.props,\n          user = _props.user,\n          email = _props.email;\n\n      console.log('loading live poll', this.state.pollId, 'for', email);\n      console.log('current poll in live view:', this.state.poll);\n      console.log('current questions in live view:', this.state.questions);\n      if (!user) return _react2.default.createElement(\n        _reactRouterDom.Link,\n        { to: '/login' },\n        _react2.default.createElement(\n          'button',\n          null,\n          'Log In!'\n        )\n      );\n      if (!this.state.poll || !this.state.questions) return _react2.default.createElement(\n        'div',\n        null,\n        'LOADING FIRE POLL!'\n      );\n      // return <div>HI</div>\n      return _react2.default.createElement(\n        'div',\n        null,\n        _react2.default.createElement(\n          'h1',\n          null,\n          '\\uD83D\\uDD25\\uD83D\\uDD25\\uD83D\\uDD25 FIRE POLL #',\n          this.state.pollId,\n          ' FOR ',\n          email,\n          ' \\uD83D\\uDD25\\uD83D\\uDD25\\uD83D\\uDD25'\n        ),\n        _react2.default.createElement(\n          'div',\n          null,\n          this.state.questions.map(function (q) {\n            return _react2.default.createElement(\n              'div',\n              { key: q.id },\n              _react2.default.createElement(\n                'h1',\n                { className: 'question-question' },\n                q.question_title\n              ),\n              _react2.default.createElement(\n                'h3',\n                { className: 'question-time' },\n                _this3.computeTimeRemaining(),\n                ' Remains!'\n              ),\n              _react2.default.createElement(\n                'button',\n                null,\n                'START VOTING!'\n              ),\n              _react2.default.createElement(\n                'button',\n                null,\n                'STOP VOTING!'\n              ),\n              _react2.default.createElement(\n                'div',\n                { className: 'question-answers' },\n                q.answers.map(function (ans) {\n                  return _react2.default.createElement(\n                    'p',\n                    { key: ans.id },\n                    ans.value,\n                    ': ',\n                    ans.position\n                  );\n                })\n              )\n            );\n          })\n        )\n      );\n    }\n  }]);\n\n  return Live;\n}(_react2.default.Component);\n\nexports.default = Live;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jbGllbnQvc3JjL21hbmFnZW1lbnRDbGllbnQvbGl2ZS5qc3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vY2xpZW50L3NyYy9tYW5hZ2VtZW50Q2xpZW50L2xpdmUuanN4PzNhZjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFJlZGlyZWN0LCBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQge2ZpcmVwb2xsfSBmcm9tICcuLi9maXJlcG9sbE1hbmFnZW1lbnRDbGllbnQnO1xuXG5jbGFzcyBMaXZlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHBvbGxJZDogdGhpcy5wcm9wcy5sb2NhdGlvbi5wYXRobmFtZS5zbGljZSg2KSxcbiAgICAgIHBvbGw6IG51bGwsXG4gICAgICBxdWVzdGlvbnM6IG51bGxcbiAgICB9XG4gICAgdGhpcy5mZXRjaFBvbGwgPSB0aGlzLmZldGNoUG9sbC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY29tcHV0ZVRpbWVSZW1haW5pbmcgPSB0aGlzLmNvbXB1dGVUaW1lUmVtYWluaW5nLmJpbmQodGhpcyk7XG4gIH1cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5mZXRjaFBvbGwoKTtcbiAgfVxuICBmZXRjaFBvbGwoKSB7XG4gICAgbGV0IHBvbGxJZCA9IHRoaXMuc3RhdGUucG9sbElkO1xuICAgIGNvbnNvbGUubG9nKCdmZXRjaGluZyBsaXZlIHBvbGwgaW5mbyBmcm9tIGZpcmViYXNlIGZvcicsIHRoaXMuc3RhdGUucG9sbElkKTtcbiAgICBmaXJlcG9sbC5nZXQucG9sbChwb2xsSWQpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBwb2xsOiBkYXRhXG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgIGZpcmVwb2xsLmxpc3Rlbi5wb2xsKHRoaXMuc3RhdGUucG9sbCwgKGRhdGEpID0+IHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHBvbGw6IGRhdGFcbiAgICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICBmaXJlcG9sbC5nZXQuYWxsUXVlc3Rpb25zRnJvbVBvbGwocG9sbElkKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHF1ZXN0aW9uczogZGF0YVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtjb25zb2xlLmxvZyhlcnIpfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSlcbiAgfVxuICBjb21wdXRlVGltZVJlbWFpbmluZygpIHtcbiAgICAvLyBhIG1ldGhvZCBmb3IgZmlndXJpbmcgb3V0IGhvdyBtdWNoIHRpbWUgaXMgcmVtYWluaW5nIGZvciBhIHF1ZXN0aW9uIGlmIGl0J3MgbGl2ZVxuICAgIGxldCBzZWNvbmRzID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjApO1xuICAgIHNlY29uZHMgPSBzZWNvbmRzIDwgMTAgPyAnMCcgKyBzZWNvbmRzIDogc2Vjb25kcztcbiAgICByZXR1cm4gYDA6JHtzZWNvbmRzfWBcbiAgfVxuICBcbiAgcmVuZGVyKCkge1xuICAgIGxldCB7dXNlciwgZW1haWx9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zb2xlLmxvZygnbG9hZGluZyBsaXZlIHBvbGwnLCB0aGlzLnN0YXRlLnBvbGxJZCwgJ2ZvcicsIGVtYWlsKTtcbiAgICBjb25zb2xlLmxvZygnY3VycmVudCBwb2xsIGluIGxpdmUgdmlldzonLCB0aGlzLnN0YXRlLnBvbGwpO1xuICAgIGNvbnNvbGUubG9nKCdjdXJyZW50IHF1ZXN0aW9ucyBpbiBsaXZlIHZpZXc6JywgdGhpcy5zdGF0ZS5xdWVzdGlvbnMpO1xuICAgIGlmICghdXNlcikgcmV0dXJuIDxMaW5rIHRvPVwiL2xvZ2luXCI+PGJ1dHRvbj5Mb2cgSW4hPC9idXR0b24+PC9MaW5rPjtcbiAgICBpZiAoIXRoaXMuc3RhdGUucG9sbCB8fCAhdGhpcy5zdGF0ZS5xdWVzdGlvbnMpIHJldHVybiA8ZGl2PkxPQURJTkcgRklSRSBQT0xMITwvZGl2PjtcbiAgICAvLyByZXR1cm4gPGRpdj5ISTwvZGl2PlxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8aDE+8J+UpfCflKXwn5SlIEZJUkUgUE9MTCAje3RoaXMuc3RhdGUucG9sbElkfSBGT1Ige2VtYWlsfSDwn5Sl8J+UpfCflKU8L2gxPlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICB7dGhpcy5zdGF0ZS5xdWVzdGlvbnMubWFwKHEgPT4gKFxuICAgICAgICAgICAgICAgIDxkaXYga2V5PXtxLmlkfT5cbiAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJxdWVzdGlvbi1xdWVzdGlvblwiPntxLnF1ZXN0aW9uX3RpdGxlfTwvaDE+XG4gICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicXVlc3Rpb24tdGltZVwiPnt0aGlzLmNvbXB1dGVUaW1lUmVtYWluaW5nKCl9IFJlbWFpbnMhPC9oMz5cbiAgICAgICAgICAgICAgICAgIDxidXR0b24+U1RBUlQgVk9USU5HITwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbj5TVE9QIFZPVElORyE8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicXVlc3Rpb24tYW5zd2Vyc1wiPlxuICAgICAgICAgICAgICAgICAgICB7cS5hbnN3ZXJzLm1hcChhbnMgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxwIGtleT17YW5zLmlkfT57YW5zLnZhbHVlfToge2Fucy5wb3NpdGlvbn08L3A+XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExpdmU7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7Ozs7Ozs7QUFDQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBUkE7QUFTQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7OztBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBREE7QUFEQTtBQUxBO0FBREE7QUFEQTtBQUZBO0FBcUJBOzs7O0FBeEVBO0FBQ0E7QUEwRUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./client/src/managementClient/live.jsx\n");

/***/ })

}]);